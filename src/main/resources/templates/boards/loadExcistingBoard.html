<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div class="container">
    <div>
        <h1>게시글 수정</h1>
        <form action="/boards"  method="POST">
            <input type="hidden" name="_method" value="put" />
            <input type="hidden" name="no" th:value="${board.no}">
            <script>
                openList = function() {
                    let selectedCategory;

                    if ([[${board.category}]]==1) {
                        selectedCategory='NOTICE';
                    } else if ([[${board.category}]]==2) {
                        selectedCategory='FREE';
                    } else if ([[${board.category}]]==3) {
                        selectedCategory='MEETING';
                    }

                    location.href="/boards?category="+selectedCategory;
                }

                NoMultiChk= function(chk) {
                    let obj = document.getElementsByName("checkedcategory");
                    for(var i=0; i<obj.length; i++) {
                        if(obj[i]!=chk) {
                            obj[i].checked=false;
                        }
                    }
                }
            </script>
            <table border="1">
                <tr>
                    <th>작성자</th>
                    <td><span th:text="${board.uid}"></span></td>
                </tr>
                <tr>
                    <th>카테고리</th>
                    <td><label><input type="checkbox" name="checkedcategory" value="NOTICE" onclick="NoMultiChk(this)" th:checked="${board.category==1}? 'checked'" >공지</label>
                        <label><input type="checkbox" name="checkedcategory" value="FREE"  onclick="NoMultiChk(this)" th:checked="${board.category==2}? 'checked'">자유</label>
                        <label><input type="checkbox" name="checkedcategory" value="MEETING" onclick="NoMultiChk(this)" th:checked="${board.category==3}? 'checked'">모임</label>
                    </td>
                </tr>
                <tr>
                    <th>제목</th>
                    <td><input type="text" name="title" th:value="${board.title}"></td>
                </tr>
                <tr>
                    <th>글내용</th>
                    <td>
                        <textarea row="10" cols="60" name="content" th:text="${board.content}">
                            </textarea>
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <input type="submit" value="수정">
                        <input type="button" value="목록" onclick="openList()">
                    </td>
                </tr>
            </table>

        </form>




    </div>
</div> <!-- /container -->
</body>
</html>